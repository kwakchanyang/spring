<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{layout/default}">
<head>

<th:block layout:fragment="css">
	<link rel="stylesheet" th:href="@{./css/index.css}">
</th:block> 
<th:block layout:fragment="script">
	<script>
		function send(){
			let fm = document.getElementById("loginFm");
			fm.submit();
		}
	
	</script>

</th:block>

</head>
	<div layout:fragment="main" id="main">
		<div th:if="${session.user==null}" id="loginWrap"> <!--session객체에 user가 있냐를 따짐 if가 화면에 표시가 되려면 조건이 참이어야 함!!  --> 
			<div class="login-box">
				<div class="login-area">
					<form name="loginFm" id="loginFm" th:object="${memberDto}" method="post" action="/signIn">
						<div class="input-field">
							<label th:for="email">ID</label>
							<input type="text" th:field="*{email}">
						</div>
						<div class="input-field">
							<label th:for="password">PassWord</label>
							<input type="password" th:field="*{password}">
						</div>
						<!--         ┌fail이라는 이름이 존재한다면 참이면 실행 존재하지 않는다면 값이 없기 때문에 실행x-->
						<p th:if="${fail}" style="color:red; font-size:13px;">아이디 또는 비밀번호가 잘못되었습니다.</p>
						
						
						<div id="loginBtBox">
							<a href="javascript:send();" class="login-bt">LOGIN</a>
						</div>
					</form>			
				</div>
			</div>
		</div>
	</div>	
</html>